# ====== Husky commit-msg Hook ======
# ì»¤ë°‹ ë©”ì‹œì§€ ì»¨ë²¤ì…˜ ê²€ì‚¬ (Conventional Commit ê·œì¹™ ê¸°ë°˜)
# ë¬¸ë²•: <type>(optional scope): <description>

echo "ğŸ§¾ Checking commit message format..."

pnpm commitlint --edit "$1" || {
  echo ""
  echo "âŒ Commit message does not follow Conventional Commit rules."
  echo ""
  echo "ğŸ’¡ Example:"
  echo "    feat(button): add ripple effect"
  echo "    fix(accordion): handle keyboard focus loss"
  echo ""
  echo "ğŸ§© Allowed <type> list:"
  echo "    feat      âœ¨  ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€"
  echo "    fix       ğŸ  ë²„ê·¸ ìˆ˜ì •"
  echo "    docs      ğŸ“  ë¬¸ì„œ ë³€ê²½ (README, Storybook ë¬¸ì„œ ë“±)"
  echo "    style     ğŸ’…  ì½”ë“œ ìŠ¤íƒ€ì¼ ë³€ê²½ (ì„¸ë¯¸ì½œë¡ , ì¸ë´íŠ¸ ë“±, ê¸°ëŠ¥ ë³€í™” ì—†ìŒ)"
  echo "    refactor  â™»ï¸  ë¦¬íŒ©í† ë§ (ê¸°ëŠ¥ ë³€ê²½ ì—†ì´ êµ¬ì¡° ê°œì„ )"
  echo "    perf      âš¡ï¸  ì„±ëŠ¥ ê°œì„ "
  echo "    test      âœ…  í…ŒìŠ¤íŠ¸ ì¶”ê°€/ìˆ˜ì • (ë‹¨ìœ„ í…ŒìŠ¤íŠ¸, UI í…ŒìŠ¤íŠ¸ ë“±)"
  echo "    build     ğŸ—ï¸  ë¹Œë“œ ì‹œìŠ¤í…œ ìˆ˜ì • (Vite, Tsup, Storybook ì„¤ì • ë“±)"
  echo "    ci        ğŸ¤–  CI/CD ê´€ë ¨ ìˆ˜ì • (GitHub Actions, Husky ë“±)"
  echo "    chore     ğŸ§¹  ê¸°íƒ€ ìœ ì§€ë³´ìˆ˜ ì‘ì—… (íŒ¨í‚¤ì§€ ì—…ë°ì´íŠ¸, ì„¤ì • ë³€ê²½ ë“±)"
  echo "    revert    âª  ì´ì „ ì»¤ë°‹ ë˜ëŒë¦¬ê¸°"
  echo ""
  echo "ğŸ“˜ Tip:"
  echo "    - type ì€ ë°˜ë“œì‹œ ì†Œë¬¸ì"
  echo "    - scope ëŠ” ì„ íƒì‚¬í•­ (ì»´í¬ë„ŒíŠ¸ëª…ì´ë‚˜ ëª¨ë“ˆëª… ê¶Œì¥)"
  echo "    - description ì€ ë§ˆì¹¨í‘œ ì—†ì´ ê°„ê²°í•˜ê²Œ"
  echo "    - ì „ì²´ í—¤ë”ëŠ” 100ì ì´í•˜ë¡œ ìœ ì§€"
  echo ""
  exit 1
}

echo "âœ… Commit message format is valid!"
